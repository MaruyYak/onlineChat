(()=>{"use strict";var e={979:(e,t,s)=>{s.r(t)},888:(e,t,s)=>{s.r(t)},913:(e,t,s)=>{s.r(t)},523:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ApplicationEvents=void 0;const a=s(831),n=s(429),r=s(57);class o{static connect(){o.ws||(o.ws=new WebSocket("ws://127.0.0.1:4000"),this.ws.onmessage=this.onMessage)}static setAppConrtollers(e,t,s){this.authController=e,this.chatController=t,this.userListController=s}static onMessage(e){const t=JSON.parse(e.data);console.log("message",t);switch(t.type){case"USER_LOGIN":const e=n.StoreService.getUserData(),s=t.payload.user;s.password=e?.password,n.StoreService.setUserData(s),o.chatController.drawChatPage(),o.userListController.setStatus(s);break;case"ERROR":console.log("message from ERROR",t.payload.error),o.authController.loginError(t.payload.error);break;case"USER_LOGOUT":n.StoreService.removeUserData(),o.authController.drawAuthPage();break;case"USER_ACTIVE":const a=t.payload.users;o.userListController.addUserList(a);break;case"USER_INACTIVE":const i=t.payload.users;o.userListController.addUserList(i);break;case"USER_EXTERNAL_LOGIN":case"USER_EXTERNAL_LOGOUT":o.userListController.setStatus(t.payload.user);break;case"MSG_SEND":const l=t.payload.message;l.from!==r.ChatControlService.selectedUser.login&&l.to!==r.ChatControlService.selectedUser.login||o.chatController.showMessage(t.payload.message);break;case"MSG_FROM_USER":o.chatController.showMessagesHistory(t.payload.messages);break;case"MSG_READ":o.chatController.setReadStatus(t.payload.message);break;case"MSG_EDIT":console.log("message from MSG_EDIT",t.payload.message),o.chatController.editMessage(t.payload.message);break;case"MSG_DELETE":console.log("message from MSG_DELETE",t.payload.message),o.chatController.deleteMessage(t.payload.message);break;default:console.log(t.payload)}}static send(e,t){const s={id:`${(0,a.v4)()}`,type:e,payload:t};console.log("type",e),o.ws.send(JSON.stringify(s))}}t.ApplicationEvents=o},459:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AuthController=void 0;const a=s(889),n=s(738);t.AuthController=class{constructor(e){console.log("loginService1",e),this.viewAuth=new n.AuthPageView(this,e)}drawAuthPage(){document.body.innerHTML="",this.viewAuth.createAuthPage(),this.viewAuth.createAuthForm()}inputsValidation(e,t){const s=document.getElementById("join-btn");s.disabled=!0;let a=!1;const n=/^[a-zA-Zа-яА-Я0-9_-]{3,20}$/,r=/^.{4,}$/;return"username"!==e.id||n.test(e.value)?"password"!==e.id||r.test(e.value)?(t.innerText="",void(s.disabled=a)):(a=!0,void(t.innerText="Password must be at least 4 characters long.")):(a=!0,void(t.innerText="Username must be 3-20 characters long and can contain letters, numbers, underscores, and dashes."))}loginError(e){const t=(0,a.createElement)({tag:"div",classes:["modal-error"],parent:document.body});t.style.display="flex";const s=(0,a.createElement)({tag:"div",classes:["error-container"],parent:t});(0,a.createElement)({tag:"p",text:`${e}`,parent:s});const n=(0,a.createElement)({tag:"button",text:"OK",parent:s});document.addEventListener("keydown",(e=>{"Escape"!==e.key&&"Enter"!==e.key||(e.preventDefault(),t.style.display="none")})),n.addEventListener("click",(()=>{t.style.display="none"}))}}},738:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AuthPageView=void 0;const a=s(889);t.AuthPageView=class{constructor(e,t){this.authController=e,this.loginService=t}createAuthPage(){this.authMainContainer=(0,a.createElement)({tag:"main",classes:["main-auth"],parent:document.body})}createAuthForm(){const e=(0,a.createElement)({tag:"div",classes:["signup-section"],parent:this.authMainContainer}),t=(0,a.createElement)({tag:"div",classes:["info-content"],parent:e}),s=(0,a.createElement)({tag:"div",classes:["info-button"],parent:e}),n=(0,a.createElement)({tag:"p",text:"SEE INFO",classes:["button-text"],parent:s});s.addEventListener("click",(()=>{t.classList.toggle("open"),t.classList.contains("open")?setTimeout((()=>{n.innerText="CLOSE INFO"}),1e3):setTimeout((()=>{n.innerText="SEE INFO"}),1e3)})),(0,a.createElement)({tag:"h2",text:"FAN CHAT is a lite version of the messenger for simple and active communication. After registration, you will have access to a list of all users who were also logged in earlier. You can select any user from the list and start a dialogue with them. It was designed in order to train working with websocket as part of the RSschool JS/FE 2023Q3 course",parent:t}),(0,a.createElement)({tag:"a",text:"By MARYAK",parent:t,attributes:{href:"https://github.com/MaruyYak"}}),this.signupForm=(0,a.createElement)({tag:"form",classes:["signupForm"],parent:e,attributes:{id:"signupform"}}),(0,a.createElement)({tag:"h2",text:"Sign Up",parent:this.signupForm});const r=(0,a.createElement)({tag:"ul",classes:["no-bullet"],parent:this.signupForm});["username","password"].forEach((e=>{const t=(0,a.createElement)({tag:"li",classes:["li_input"],parent:r});(0,a.createElement)({tag:"label",parent:t,attributes:{for:e}});const s=(0,a.createElement)({tag:"input",classes:["inputFields"],parent:t,attributes:{type:"password"===e?"password":"text",id:e,name:e,placeholder:e,required:"true"}}),n=`error_${e}`;(0,a.createElement)({tag:"span",id:n,classes:["error-mes"],parent:t});const o=document.getElementById(n);s.addEventListener("input",(()=>{this.authController.inputsValidation(s,o)}))}));const o=(0,a.createElement)({tag:"li",parent:r,id:"center-btn"}),i=(0,a.createElement)({tag:"input",attributes:{type:"submit",id:"join-btn",name:"join",alt:"Join",value:"JOIN"},parent:o});this.signupForm.addEventListener("submit",(e=>{let t=document.getElementById("username").value,s=document.getElementById("password").value;e.preventDefault(),this.loginService.letUserLogin(t,s)})),i.disabled=!0}}},440:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ChatController=void 0;const a=s(57),n=s(465);t.ChatController=class{constructor(){this.messagesArr=[],this.isMyScroll=!1,this.editedMessage=null,this.viewChatPage=new n.ChatPageView(this),this.chatControlService=new a.ChatControlService}drawChatPage(){document.body.innerHTML="",this.viewChatPage.createMainPage(),this.viewChatPage.createChatContainer(),this.viewChatPage.createChatMenu(),this.viewChatPage.createUsersArea(),this.viewChatPage.createChatInfo(),this.viewChatPage.createChat(),this.chatControlService.getUsersList(),this.setEventListenersToMessage(),this.setEventListenersToSentButton()}clearChatWindow(){const e=document.getElementById("textPlace"),t=document.querySelector(".dialog-content"),s=document.getElementById("sendBtn"),a=document.getElementById("saveBtn");t.innerHTML="","flex"===a.style.display&&(a.style.display="none",s.style.display="flex"),e.disabled=!1,s.disabled=!1}showMessage(e){const t=document.querySelector(".dialog-content"),s=e.to===a.ChatControlService.selectedUser.login?"to":"from",n=new Date(e.datetime),r=`${(n.getMonth()+1).toString().padStart(2,"0")}-${n.getDate().toString().padStart(2,"0")}  ${n.getHours().toString().padStart(2,"0")}:${n.getMinutes().toString().padStart(2,"0")}`,o=this.viewChatPage.createNewMessage(e,s,r);this.messagesArr.push({message:e,htmlEl:o});const i=o.querySelector(".unread-mark"),l=o.querySelector(".read-mark"),c=o.querySelector(".edited");return e.status.isReaded&&e.to===a.ChatControlService.selectedUser.login&&(i.style.display="none",l.style.display="flex"),e.status.isEdited&&(c.style.display="flex"),this.isMyScroll=!0,t.scrollTop=t.scrollHeight,setTimeout((()=>{this.isMyScroll=!1}),500),o}showMessagesHistory(e){this.messagesArr=e.map((e=>({message:e,htmlEl:this.showMessage(e)})))}setReadStatus(e){const t=this.messagesArr.find((t=>t.message.id===e.id));if(t&&(t.message.status.isReaded=!0,this.messagesArr.push({message:t.message,htmlEl:t.htmlEl})),t?.message.to!==a.ChatControlService.selectedUser.login)return;const s=t?.htmlEl.querySelector(".unread-mark"),n=t?.htmlEl.querySelector(".read-mark");s.style.display="none",n.style.display="flex"}requestEditMessage(e){this.editedMessage=e;const t=document.getElementById("textPlace"),s=document.getElementById("saveBtn"),a=document.getElementById("sendBtn");t.value=e.text,s.style.display="flex",a.style.display="none"}editMessage(e){const t=document.getElementById("saveBtn"),s=document.getElementById("textPlace"),a=document.getElementById("sendBtn");s.value="",t.style.display="none",a.style.display="flex";const n=this.messagesArr.find((t=>t.message.id===e.id));n&&(n.message.status.isEdited=!0,this.messagesArr.push({message:n.message,htmlEl:n.htmlEl}));const r=n?.htmlEl.querySelector(".text"),o=n?.htmlEl.querySelector(".edited");r&&(o.style.display="flex",r.innerText=e.text)}deleteMessage(e){const t=this.messagesArr.filter((t=>t.message.id!==e.id));this.clearChatWindow(),this.showMessagesHistory(t.map((e=>e.message)))}setEventListenersToMessage(){const e=document.querySelector(".dialog-content"),t=document.querySelector(".send-button");e.addEventListener("scroll",(()=>{this.isMyScroll||this.readMessages()})),e.addEventListener("click",(()=>{this.readMessages()})),t.addEventListener("click",(()=>{this.readMessages()})),t.addEventListener("keydown",(e=>{e.preventDefault(),"Enter"===e.key&&this.readMessages()}))}readMessages(){this.messagesArr.forEach((e=>{e.message.status.isReaded||a.ChatControlService.selectedUser.login!==e.message.from||a.ChatControlService.requestReadStatus(e.message.id)}))}setEventListenersToSentButton(){const e=document.getElementById("textPlace"),t=document.getElementById("sendBtn"),s=document.getElementById("mes-menu"),n=document.getElementById("saveBtn");n.addEventListener("click",(()=>{a.ChatControlService.requestTextEditing(this.editedMessage?.id||"0",e.value),this.editedMessage=null})),document.addEventListener("keydown",(a=>{"Escape"===a.key&&this.editedMessage&&(this.editedMessage=null,t.style.display="flex",n.style.display="none",e.value="",s.style.visibility="hidden")})),t.addEventListener("click",(()=>{""!=e.value&&(a.ChatControlService.sendMessageToUser(e.value),e.value="")})),e.addEventListener("keydown",(t=>{"Enter"===t.key&&(t.preventDefault(),""!==e.value&&(this.editedMessage?(a.ChatControlService.requestTextEditing(this.editedMessage.id,e.value),this.editedMessage=null):a.ChatControlService.sendMessageToUser(e.value),e.value=""))}))}}},465:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ChatPageView=void 0;const a=s(889),n=s(645),r=s(429),o=s(57);t.ChatPageView=class{constructor(e){this.chatController=e,this.isEditMode=!1,this.letUserLogOut=new n.LogOutServis,this.chatControlService=new o.ChatControlService}createMainPage(){this.main=(0,a.createElement)({tag:"main",classes:["main-chat-page"],parent:document.body});const e=(0,a.createElement)({tag:"footer",classes:["footer-info"],parent:this.main});(0,a.createElement)({tag:"img",attributes:{src:"./assets/rs_school.svg",alt:"RSSchool"},parent:e}),(0,a.createElement)({tag:"a",attributes:{href:"https://github.com/MaruyYak"},text:"MaruyYak",parent:e}),(0,a.createElement)({tag:"span",text:"2023",parent:e})}createChatContainer(){this.chatContainer=(0,a.createElement)({tag:"div",classes:["chat-container"],parent:this.main});const e=(0,a.createElement)({tag:"div",classes:["chat-header"],parent:this.chatContainer});(0,a.createElement)({tag:"h1",text:"FUN CHAT",parent:e});const t=(0,a.createElement)({tag:"div",classes:["user-data"],parent:e}),s=r.StoreService.getUserData();(0,a.createElement)({tag:"p",classes:["my-login"],text:`${s?.login}`,parent:t}),(0,a.createElement)({tag:"img",classes:["avatar"],src:"./assets/user-avatar.gif",parent:t}),this.chatWrapper=(0,a.createElement)({tag:"div",classes:["chat-wrapper"],parent:this.chatContainer})}createChatMenu(){const e=(0,a.createElement)({tag:"div",classes:["chat-menu"],parent:this.chatWrapper}),t=(0,a.createElement)({tag:"div",classes:["menu-buttons"],parent:e}),s=(0,a.createElement)({tag:"div",classes:["exit-btn"],parent:t});s.addEventListener("click",(()=>{const e=r.StoreService.getUserData();this.letUserLogOut.letUserLogOut(e)})),(0,a.createElement)({tag:"img",src:"./assets/log-out.png",parent:s}),this.infoButton=(0,a.createElement)({tag:"div",classes:["info-btn"],parent:t}),(0,a.createElement)({tag:"img",src:"./assets/info-icon.png",parent:this.infoButton}),this.infoButton.addEventListener("click",(()=>{this.userArea.classList.add("user-area_closed"),this.infoButton.classList.add("selected"),this.infoMenu.classList.remove("chat-info_closed"),this.menuUsers.classList.remove("selected")})),this.menuUsers=(0,a.createElement)({tag:"div",classes:["info-users","selected"],parent:t}),(0,a.createElement)({tag:"img",src:"./assets/users-list.png",parent:this.menuUsers}),this.menuUsers.addEventListener("click",(()=>{this.userArea.classList.remove("user-area_closed"),this.menuUsers.classList.add("selected"),this.infoMenu.classList.add("chat-info_closed"),this.infoButton.classList.remove("selected")}))}createUsersArea(){this.userArea=(0,a.createElement)({tag:"div",classes:["user-area"],parent:this.chatWrapper});(0,a.createElement)({tag:"input",attributes:{id:"search",type:"text",placeholder:"Search"},parent:this.userArea});(0,a.createElement)({tag:"ul",classes:["user-list"],parent:this.userArea})}createChatInfo(){this.infoMenu=(0,a.createElement)({tag:"div",classes:["chat-info","chat-info_closed"],parent:this.chatWrapper});(0,a.createElement)({tag:"h3",classes:["info-title"],text:"FUN CHAT",parent:this.infoMenu}),(0,a.createElement)({tag:"img",attributes:{src:"./assets/logo.png",alt:"logo"},parent:this.infoMenu}),(0,a.createElement)({tag:"p",text:"You have access to a list of all users who were also logged in earlier. You can select any user from the list and start a dialogue with them. It was designed in order to train working with websocket as part of the RSschool JS/FE 2023Q3 course",parent:this.infoMenu}),(0,a.createElement)({tag:"a",attributes:{href:"https://github.com/MaruyYak"},text:"By MARYYAK",parent:this.infoMenu})}createChat(){const e=(0,a.createElement)({tag:"div",classes:["chat-content"],parent:this.chatWrapper}),t=(0,a.createElement)({tag:"div",classes:["chat-area"],parent:e}),s=(0,a.createElement)({tag:"div",classes:["open-user-info"],parent:t});(0,a.createElement)({tag:"label",classes:["open-user"],text:"Chat with:",parent:s}),(0,a.createElement)({tag:"span",id:"openUserStatus",parent:s});this.dialogContent=(0,a.createElement)({tag:"div",classes:["dialog-content"],parent:t}),(0,a.createElement)({tag:"span",text:"Select the user to send the message to...",classes:["dialog-empty"],parent:this.dialogContent});const n=(0,a.createElement)({tag:"div",classes:["message-area"],parent:t});(0,a.createElement)({tag:"input",id:"textPlace",attributes:{type:"text",placeholder:"Message...",required:"true"},parent:n}).disabled=!0;(0,a.createElement)({tag:"button",id:"saveBtn",classes:["send-button"],text:"Save",parent:n}).style.display="none";(0,a.createElement)({tag:"button",id:"sendBtn",classes:["send-button"],text:"Send",parent:n}).disabled=!0}createNewMessage(e,t,s){const n=(0,a.createElement)({tag:"div",classes:["message-container",t],parent:this.dialogContent}),r=(0,a.createElement)({tag:"div",classes:["message-content"],parent:n}),i=(0,a.createElement)({tag:"div",id:"mes-menu",parent:r});i.style.visibility="hidden",(0,a.createElement)({tag:"span",text:"Edit",id:"edit",parent:i}),(0,a.createElement)({tag:"span",text:"Delete",id:"delete",parent:i}),(0,a.createElement)({tag:"p",text:`${e.from}`,classes:["mes_from"],parent:r});const l=(0,a.createElement)({tag:"p",classes:["text"],text:`${e.text}`,parent:r});let c=!1;"to"===t&&(l.addEventListener("contextmenu",(e=>{e.preventDefault(),c?(i.style.visibility="hidden",c=!1):(i.style.visibility="visible",c=!0)})),document.addEventListener("click",(e=>{i.contains(e.target)||(i.style.visibility="hidden",c=!1)})),i.addEventListener("click",(t=>{const s=t.target;"edit"===s.id&&(this.chatController.requestEditMessage(e),i.style.visibility="hidden",c=!1),"delete"===s.id&&(o.ChatControlService.requestTextDeleting(e),i.style.visibility="hidden",c=!1)})));const d=(0,a.createElement)({tag:"div",classes:["message-info"],parent:r});(0,a.createElement)({tag:"label",id:"dateTime",text:`${s}`,parent:d});const u=(0,a.createElement)({tag:"div",classes:["unread-mark"],parent:d});(0,a.createElement)({tag:"img",classes:["unread"],src:"./assets/mark-unread.png",parent:u}),"to"!==t||(u.style.display="flex"),(0,a.createElement)({tag:"img",classes:["unread"],src:"./assets/mark-unread.png",parent:u});const g=(0,a.createElement)({tag:"div",classes:["read-mark"],parent:d});(0,a.createElement)({tag:"img",classes:["readed"],src:"./assets/mark-readed.png",parent:g}),(0,a.createElement)({tag:"img",classes:["readed"],src:"./assets/mark-readed.png",parent:g});return(0,a.createElement)({tag:"img",classes:["edited"],src:"./assets/edited.png",parent:d}).style.display="none",n}}},607:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UserListController=void 0;const a=s(889),n=s(57),r=s(440);t.UserListController=class{constructor(){this.userList=[],this.userListArr=[],this.chatController=new r.ChatController}addUserList(e){this.userList=[...this.userList,...e],this.drawUserItems(),this.setEventListenertoUser(),this.searchUsers()}drawUserItems(){const e=document.querySelector(".user-list"),t=document.querySelector(".my-login")?.textContent;e.innerHTML="",this.userList.filter((e=>e.login!==t)).forEach((t=>{const s=(0,a.createElement)({tag:"li",classes:["user"],text:t.login,parent:e}),n=t.isLogined?["online"]:["offline"];(0,a.createElement)({tag:"span",classes:["status",`${n}`],parent:s}),this.userListArr.push({user:t,htmlEl:s})}))}setStatus(e){const t=this.userList.find((t=>t.login===e.login));t?t.isLogined=e.isLogined:this.userList.push(e),this.drawUserItems()}setEventListenertoUser(){const e=document.querySelector(".user-list"),t=document.getElementById("textPlace");e.addEventListener("click",(e=>{""!=t.value&&(t.value="");const s=e.target,a=document.querySelector(".open-user"),r=document.getElementById("openUserStatus");if(!s.classList.contains("user"))return;const o=s.textContent;a.innerText=`Chat with: ${o}`;const i=this.userList.find((e=>e.login===o));i&&o!==n.ChatControlService.selectedUser?.login&&(this.chatController.clearChatWindow(),n.ChatControlService.selectUser(i),n.ChatControlService.getMessageHistory(i.login),i&&i.isLogined?(r.classList.add("online"),r.classList.remove("offline")):(r.classList.remove("online"),r.classList.add("offline")))}))}searchUsers(){const e=document.getElementById("search");e.addEventListener("input",(()=>{const t=e.value.toLowerCase();this.userListArr.forEach((e=>{const s=document.querySelector(".status"),a=e.user.login.toLowerCase();a?.includes(t)?(e.htmlEl.style.display="flex",s.style.display="flex"):(e.htmlEl.style.display="none",s.style.display="none")}))}))}}},57:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ChatControlService=void 0;const a=s(523);class n{static selectUser(e){this.selectedUser=e}getUsersList(){["USER_ACTIVE","USER_INACTIVE"].forEach((e=>{a.ApplicationEvents.send(e,null)}))}static sendMessageToUser(e){const t={message:{to:n.selectedUser.login,text:e}};a.ApplicationEvents.send("MSG_SEND",t)}static getMessageHistory(e){const t={user:{login:e}};a.ApplicationEvents.send("MSG_FROM_USER",t)}static requestReadStatus(e){const t={message:{id:e}};a.ApplicationEvents.send("MSG_READ",t)}static requestTextEditing(e,t){const s={message:{id:e,text:t}};a.ApplicationEvents.send("MSG_EDIT",s)}static requestTextDeleting(e){const t={message:{id:e.id}};a.ApplicationEvents.send("MSG_DELETE",t)}}t.ChatControlService=n},889:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createElement=void 0,t.createElement=function(e){const{tag:t="div",text:s="",parent:a,classes:n=[],src:r="",style:o={},id:i="",type:l="",attributes:c={}}=e,d=document.createElement(t);d.textContent=String(s),Object.assign(d.style,o),"img"===t&&(d.src=r),""!==i&&(d.id=i),"input"===t&&(d.type=l),n.length>0&&d.classList.add(...n),null!=a&&a.appendChild(d);for(const[e,t]of Object.entries(c))d.setAttribute(e,t);return d}},166:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LoginService=void 0;const a=s(523),n=s(429);t.LoginService=class{letUserLogin(e,t){const s={user:{login:e,password:t}},r={login:"",password:t,isLogined:!1};n.StoreService.setUserData(r),a.ApplicationEvents.send("USER_LOGIN",s)}}},645:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LogOutServis=void 0;const a=s(523);t.LogOutServis=class{letUserLogOut(e){const t={user:{login:e?.login,password:e?.password}};a.ApplicationEvents.send("USER_LOGOUT",t)}}},429:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StoreService=void 0;t.StoreService=class{static getUserData(){const e=sessionStorage.getItem("LoginedUser");return e?JSON.parse(e):null}static getUserGender(){const e=sessionStorage.getItem("UserGender");return e?JSON.parse(e):null}static setUserGender(e){sessionStorage.setItem("UserGender",JSON.stringify(e))}static setUserData(e){sessionStorage.setItem("LoginedUser",JSON.stringify(e))}static removeUserData(){sessionStorage.removeItem("LoginedUser"),sessionStorage.removeItem("UserGender")}}},831:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return l.default}});var a=g(s(518)),n=g(s(948)),r=g(s(73)),o=g(s(186)),i=g(s(808)),l=g(s(775)),c=g(s(37)),d=g(s(910)),u=g(s(792));function g(e){return e&&e.__esModule?e:{default:e}}},311:(e,t)=>{function s(e){return 14+(e+64>>>9<<4)+1}function a(e,t){const s=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(s>>16)<<16|65535&s}function n(e,t,s,n,r,o){return a((i=a(a(t,e),a(n,o)))<<(l=r)|i>>>32-l,s);var i,l}function r(e,t,s,a,r,o,i){return n(t&s|~t&a,e,t,r,o,i)}function o(e,t,s,a,r,o,i){return n(t&a|s&~a,e,t,r,o,i)}function i(e,t,s,a,r,o,i){return n(t^s^a,e,t,r,o,i)}function l(e,t,s,a,r,o,i){return n(s^(t|~a),e,t,r,o,i)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let s=0;s<t.length;++s)e[s]=t.charCodeAt(s)}return function(e){const t=[],s=32*e.length,a="0123456789abcdef";for(let n=0;n<s;n+=8){const s=e[n>>5]>>>n%32&255,r=parseInt(a.charAt(s>>>4&15)+a.charAt(15&s),16);t.push(r)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[s(t)-1]=t;let n=1732584193,c=-271733879,d=-1732584194,u=271733878;for(let t=0;t<e.length;t+=16){const s=n,g=c,p=d,h=u;n=r(n,c,d,u,e[t],7,-680876936),u=r(u,n,c,d,e[t+1],12,-389564586),d=r(d,u,n,c,e[t+2],17,606105819),c=r(c,d,u,n,e[t+3],22,-1044525330),n=r(n,c,d,u,e[t+4],7,-176418897),u=r(u,n,c,d,e[t+5],12,1200080426),d=r(d,u,n,c,e[t+6],17,-1473231341),c=r(c,d,u,n,e[t+7],22,-45705983),n=r(n,c,d,u,e[t+8],7,1770035416),u=r(u,n,c,d,e[t+9],12,-1958414417),d=r(d,u,n,c,e[t+10],17,-42063),c=r(c,d,u,n,e[t+11],22,-1990404162),n=r(n,c,d,u,e[t+12],7,1804603682),u=r(u,n,c,d,e[t+13],12,-40341101),d=r(d,u,n,c,e[t+14],17,-1502002290),c=r(c,d,u,n,e[t+15],22,1236535329),n=o(n,c,d,u,e[t+1],5,-165796510),u=o(u,n,c,d,e[t+6],9,-1069501632),d=o(d,u,n,c,e[t+11],14,643717713),c=o(c,d,u,n,e[t],20,-373897302),n=o(n,c,d,u,e[t+5],5,-701558691),u=o(u,n,c,d,e[t+10],9,38016083),d=o(d,u,n,c,e[t+15],14,-660478335),c=o(c,d,u,n,e[t+4],20,-405537848),n=o(n,c,d,u,e[t+9],5,568446438),u=o(u,n,c,d,e[t+14],9,-1019803690),d=o(d,u,n,c,e[t+3],14,-187363961),c=o(c,d,u,n,e[t+8],20,1163531501),n=o(n,c,d,u,e[t+13],5,-1444681467),u=o(u,n,c,d,e[t+2],9,-51403784),d=o(d,u,n,c,e[t+7],14,1735328473),c=o(c,d,u,n,e[t+12],20,-1926607734),n=i(n,c,d,u,e[t+5],4,-378558),u=i(u,n,c,d,e[t+8],11,-2022574463),d=i(d,u,n,c,e[t+11],16,1839030562),c=i(c,d,u,n,e[t+14],23,-35309556),n=i(n,c,d,u,e[t+1],4,-1530992060),u=i(u,n,c,d,e[t+4],11,1272893353),d=i(d,u,n,c,e[t+7],16,-155497632),c=i(c,d,u,n,e[t+10],23,-1094730640),n=i(n,c,d,u,e[t+13],4,681279174),u=i(u,n,c,d,e[t],11,-358537222),d=i(d,u,n,c,e[t+3],16,-722521979),c=i(c,d,u,n,e[t+6],23,76029189),n=i(n,c,d,u,e[t+9],4,-640364487),u=i(u,n,c,d,e[t+12],11,-421815835),d=i(d,u,n,c,e[t+15],16,530742520),c=i(c,d,u,n,e[t+2],23,-995338651),n=l(n,c,d,u,e[t],6,-198630844),u=l(u,n,c,d,e[t+7],10,1126891415),d=l(d,u,n,c,e[t+14],15,-1416354905),c=l(c,d,u,n,e[t+5],21,-57434055),n=l(n,c,d,u,e[t+12],6,1700485571),u=l(u,n,c,d,e[t+3],10,-1894986606),d=l(d,u,n,c,e[t+10],15,-1051523),c=l(c,d,u,n,e[t+1],21,-2054922799),n=l(n,c,d,u,e[t+8],6,1873313359),u=l(u,n,c,d,e[t+15],10,-30611744),d=l(d,u,n,c,e[t+6],15,-1560198380),c=l(c,d,u,n,e[t+13],21,1309151649),n=l(n,c,d,u,e[t+4],6,-145523070),u=l(u,n,c,d,e[t+11],10,-1120210379),d=l(d,u,n,c,e[t+2],15,718787259),c=l(c,d,u,n,e[t+9],21,-343485551),n=a(n,s),c=a(c,g),d=a(d,p),u=a(u,h)}return[n,c,d,u]}(function(e){if(0===e.length)return[];const t=8*e.length,a=new Uint32Array(s(t));for(let s=0;s<t;s+=8)a[s>>5]|=(255&e[s/8])<<s%32;return a}(e),8*e.length))};t.default=c},140:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};t.default=s},808:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="00000000-0000-0000-0000-000000000000"},792:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n=(a=s(37))&&a.__esModule?a:{default:a};var r=function(e){if(!(0,n.default)(e))throw TypeError("Invalid UUID");let t;const s=new Uint8Array(16);return s[0]=(t=parseInt(e.slice(0,8),16))>>>24,s[1]=t>>>16&255,s[2]=t>>>8&255,s[3]=255&t,s[4]=(t=parseInt(e.slice(9,13),16))>>>8,s[5]=255&t,s[6]=(t=parseInt(e.slice(14,18),16))>>>8,s[7]=255&t,s[8]=(t=parseInt(e.slice(19,23),16))>>>8,s[9]=255&t,s[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,s[11]=t/4294967296&255,s[12]=t>>>24&255,s[13]=t>>>16&255,s[14]=t>>>8&255,s[15]=255&t,s};t.default=r},656:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},858:(e,t)=>{let s;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!s&&(s="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!s))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(a)};const a=new Uint8Array(16)},42:(e,t)=>{function s(e,t,s,a){switch(e){case 0:return t&s^~t&a;case 1:case 3:return t^s^a;case 2:return t&s^t&a^s&a}}function a(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){const t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let s=0;s<t.length;++s)e.push(t.charCodeAt(s))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const r=e.length/4+2,o=Math.ceil(r/16),i=new Array(o);for(let t=0;t<o;++t){const s=new Uint32Array(16);for(let a=0;a<16;++a)s[a]=e[64*t+4*a]<<24|e[64*t+4*a+1]<<16|e[64*t+4*a+2]<<8|e[64*t+4*a+3];i[t]=s}i[o-1][14]=8*(e.length-1)/Math.pow(2,32),i[o-1][14]=Math.floor(i[o-1][14]),i[o-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<o;++e){const r=new Uint32Array(80);for(let t=0;t<16;++t)r[t]=i[e][t];for(let e=16;e<80;++e)r[e]=a(r[e-3]^r[e-8]^r[e-14]^r[e-16],1);let o=n[0],l=n[1],c=n[2],d=n[3],u=n[4];for(let e=0;e<80;++e){const n=Math.floor(e/20),i=a(o,5)+s(n,l,c,d)+u+t[n]+r[e]>>>0;u=d,d=c,c=a(l,30)>>>0,l=o,o=i}n[0]=n[0]+o>>>0,n[1]=n[1]+l>>>0,n[2]=n[2]+c>>>0,n[3]=n[3]+d>>>0,n[4]=n[4]+u>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]};t.default=n},910:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=o;var a,n=(a=s(37))&&a.__esModule?a:{default:a};const r=[];for(let e=0;e<256;++e)r.push((e+256).toString(16).slice(1));function o(e,t=0){return r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]}var i=function(e,t=0){const s=o(e,t);if(!(0,n.default)(s))throw TypeError("Stringified UUID is invalid");return s};t.default=i},518:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n=(a=s(858))&&a.__esModule?a:{default:a},r=s(910);let o,i,l=0,c=0;var d=function(e,t,s){let a=t&&s||0;const d=t||new Array(16);let u=(e=e||{}).node||o,g=void 0!==e.clockseq?e.clockseq:i;if(null==u||null==g){const t=e.random||(e.rng||n.default)();null==u&&(u=o=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==g&&(g=i=16383&(t[6]<<8|t[7]))}let p=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:c+1;const m=p-l+(h-c)/1e4;if(m<0&&void 0===e.clockseq&&(g=g+1&16383),(m<0||p>l)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=p,c=h,i=g,p+=122192928e5;const f=(1e4*(268435455&p)+h)%4294967296;d[a++]=f>>>24&255,d[a++]=f>>>16&255,d[a++]=f>>>8&255,d[a++]=255&f;const v=p/4294967296*1e4&268435455;d[a++]=v>>>8&255,d[a++]=255&v,d[a++]=v>>>24&15|16,d[a++]=v>>>16&255,d[a++]=g>>>8|128,d[a++]=255&g;for(let e=0;e<6;++e)d[a+e]=u[e];return t||(0,r.unsafeStringify)(d)};t.default=d},948:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(s(25)),n=r(s(311));function r(e){return e&&e.__esModule?e:{default:e}}var o=(0,a.default)("v3",48,n.default);t.default=o},25:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,s){function a(e,a,o,i){var l;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let s=0;s<e.length;++s)t.push(e.charCodeAt(s));return t}(e)),"string"==typeof a&&(a=(0,r.default)(a)),16!==(null===(l=a)||void 0===l?void 0:l.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+e.length);if(c.set(a),c.set(e,a.length),c=s(c),c[6]=15&c[6]|t,c[8]=63&c[8]|128,o){i=i||0;for(let e=0;e<16;++e)o[i+e]=c[e];return o}return(0,n.unsafeStringify)(c)}try{a.name=e}catch(e){}return a.DNS=o,a.URL=i,a};var a,n=s(910),r=(a=s(792))&&a.__esModule?a:{default:a};const o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=o;const i="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=i},73:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(s(140)),n=o(s(858)),r=s(910);function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e,t,s){if(a.default.randomUUID&&!t&&!e)return a.default.randomUUID();const o=(e=e||{}).random||(e.rng||n.default)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){s=s||0;for(let e=0;e<16;++e)t[s+e]=o[e];return t}return(0,r.unsafeStringify)(o)};t.default=i},186:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(s(25)),n=r(s(42));function r(e){return e&&e.__esModule?e:{default:e}}var o=(0,a.default)("v5",80,n.default);t.default=o},37:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n=(a=s(656))&&a.__esModule?a:{default:a};var r=function(e){return"string"==typeof e&&n.default.test(e)};t.default=r},775:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n=(a=s(37))&&a.__esModule?a:{default:a};var r=function(e){if(!(0,n.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};t.default=r}},t={};function s(a){var n=t[a];if(void 0!==n)return n.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,s),r.exports}s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};(()=>{s(913),s(979),s(888);const e=s(459),t=s(440),a=s(429),n=s(523),r=s(607),o=s(166);let i,l,c,d;window.onload=()=>{n.ApplicationEvents.connect(),n.ApplicationEvents.ws.onopen=()=>{c=new r.UserListController,l=new t.ChatController,d=new o.LoginService,i=new e.AuthController(d),n.ApplicationEvents.setAppConrtollers(i,l,c);const s=a.StoreService.getUserData();a.StoreService.getUserGender(),s?d.letUserLogin(s.login,s.password):i.drawAuthPage()}}})()})();
//# sourceMappingURL=index.js.map